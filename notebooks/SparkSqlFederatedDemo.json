{"paragraphs":[{"text":"%dep\nz.load(\"com.databricks:spark-csv_2.10:1.4.0\")\nz.load(\"mysql:mysql-connector-java:5.1.38\")\nz.load(\"org.postgresql:postgresql:9.4-1201-jdbc41\")\n//z.load(\"/tmp/mysql-connector-java-5.1.38-bin.jar\")","dateUpdated":"May 4, 2016 2:35:50 AM","config":{"enabled":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala","colWidth":12},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1462326644613_292145597","id":"20160504-015044_1563269834","dateCreated":"May 4, 2016 1:50:44 AM","dateStarted":"May 4, 2016 2:35:50 AM","dateFinished":"May 4, 2016 2:36:06 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2602","errorMessage":""},{"title":"Federate CSV backed data","text":"import org.apache.spark.sql._\nimport org.apache.spark.sql.hive.thriftserver._\nimport org.apache.spark.sql.hive.HiveContext\nimport org.apache.spark.sql.types.{StructType,StructField,StringType,IntegerType,LongType,FloatType,TimestampType};\n\nval hiveContext = new HiveContext(sc)\n\nval productDF = hiveContext.read.format(\"com.databricks.spark.csv\").option(\"header\", \"true\").option(\"inferSchema\", \"true\").load(\"/tmp/DimProduct/DimProduct.csv\")\nproductDF.registerTempTable(\"DimProductDF\")\nproductDF.show()","dateUpdated":"May 4, 2016 2:36:23 AM","config":{"enabled":true,"tableHide":true,"title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala","colWidth":12},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1462326644613_292145597","id":"20160504-015044_1561162640","dateCreated":"May 4, 2016 1:50:44 AM","dateStarted":"May 4, 2016 2:36:23 AM","dateFinished":"May 4, 2016 2:38:22 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2603","errorMessage":""},{"title":"Federate and Expose Data with SparkSQL - Postgres","text":"val hiveTablesDF = hiveContext.read.format(\"jdbc\").options(Map(\"driver\" -> \"org.postgresql.Driver\",\"url\" -> \"jdbc:postgresql://localhost/contoso?user=zeppelin&password=zeppelin\",\"dbtable\" -> \"dimstore\")).load()\nhiveTablesDF.registerTempTable(\"DimStoreDF\")\nhiveTablesDF.show()\n","dateUpdated":"May 4, 2016 2:36:26 AM","config":{"enabled":true,"tableHide":false,"title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala","colWidth":12},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1462326644619_291376099","id":"20160504-015044_505291434","dateCreated":"May 4, 2016 1:50:44 AM","dateStarted":"May 4, 2016 2:36:26 AM","dateFinished":"May 4, 2016 2:38:27 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2604","errorMessage":""},{"text":"hiveContext.setConf(\"spark.sql.hive.thriftServer.singleSession\",\"true\")\nhiveContext.setConf(\"spark.sql.autoBroadcastJoinThreshold\",\"100000000\")\nhiveContext.setConf(\"hive.server2.thrift.port\",\"10002\");\nHiveThriftServer2.startWithContext(hiveContext)","dateUpdated":"May 4, 2016 2:38:31 AM","config":{"enabled":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala","colWidth":12},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1462326644620_289452354","id":"20160504-015044_1282791000","dateCreated":"May 4, 2016 1:50:44 AM","dateStarted":"May 4, 2016 2:38:31 AM","dateFinished":"May 4, 2016 2:38:34 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2605","errorMessage":""},{"text":"%hive\n\nselect * from dimcustomer limit 10","dateUpdated":"May 4, 2016 2:16:40 AM","config":{"enabled":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"dimcustomer.customerkey","index":0,"aggr":"sum"}],"values":[{"name":"dimcustomer.geographykey","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"dimcustomer.customerkey","index":0,"aggr":"sum"},"yAxis":{"name":"dimcustomer.geographykey","index":1,"aggr":"sum"}}},"editorMode":"ace/mode/scala","colWidth":12},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1462326644620_289452354","id":"20160504-015044_1280004767","dateCreated":"May 4, 2016 1:50:44 AM","dateStarted":"May 4, 2016 2:16:01 AM","dateFinished":"May 4, 2016 2:16:20 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2606","errorMessage":""},{"text":"%hive\n\nselect * from factsales limit 10","dateUpdated":"May 4, 2016 2:20:21 AM","config":{"enabled":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"colWidth":12},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1462326644621_289067606","id":"20160504-015044_1696426970","dateCreated":"May 4, 2016 1:50:44 AM","dateStarted":"May 4, 2016 2:20:22 AM","dateFinished":"May 4, 2016 2:20:28 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2607","errorMessage":""},{"text":"hiveContext.tableNames","dateUpdated":"May 4, 2016 2:19:52 AM","config":{"enabled":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"editorMode":"ace/mode/scala","colWidth":12},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1462326644621_289067606","id":"20160504-015044_1855187218","dateCreated":"May 4, 2016 1:50:44 AM","dateStarted":"May 4, 2016 2:19:52 AM","dateFinished":"May 4, 2016 2:19:53 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2609","errorMessage":""},{"text":"hiveContext.sql(\"select factsales.* from factsales join dimstoredf on factsales.storekey=dimstoredf.storekey  where dimstoredf.employeecount > 25 and \tfactsales.promotionkey=10  limit 100\").show()","dateUpdated":"May 4, 2016 2:43:27 AM","config":{"enabled":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"colWidth":12,"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1462326644622_290221852","id":"20160504-015044_816502133","dateCreated":"May 4, 2016 1:50:44 AM","dateStarted":"May 4, 2016 2:43:27 AM","dateFinished":"May 4, 2016 2:43:42 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2610","errorMessage":""},{"text":"%sh\nexport PGPASSWORD=zeppelin\n\npsql -U zeppelin -d contoso -h localhost -c \"select * from DimStore limit 5;\" ","dateUpdated":"May 4, 2016 2:44:19 AM","config":{"enabled":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"colWidth":12,"editorMode":"ace/mode/sh"},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1462326644622_290221852","id":"20160504-015044_530845001","dateCreated":"May 4, 2016 1:50:44 AM","dateStarted":"May 4, 2016 2:44:19 AM","dateFinished":"May 4, 2016 2:44:19 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2611","errorMessage":""},{"title":"Cache Data in SparkSQL for Performance Boost","text":"hiveContext.cacheTable(\"factsales\")\nhiveContext.cacheTable(\"factonlinesales\")\nhiveContext.cacheTable(\"dimstoredf\")\nhiveContext.cacheTable(\"dimproductdf\")","dateUpdated":"May 4, 2016 2:46:56 AM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1462329840363_-60899604","id":"20160504-024400_1750001644","dateCreated":"May 4, 2016 2:44:00 AM","dateStarted":"May 4, 2016 2:46:56 AM","dateFinished":"May 4, 2016 2:46:59 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2612","errorMessage":""},{"title":"Notice the speed improvement using the cached  storage","text":"hiveContext.sql(\"select factsales.* from factsales join dimstoredf on factsales.storekey=dimstoredf.storekey  where dimstoredf.employeecount > 25 and \tfactsales.promotionkey=15  limit 100\").show()","dateUpdated":"May 4, 2016 2:53:50 AM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true,"title":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1462330016737_-1047736205","id":"20160504-024656_1862161836","dateCreated":"May 4, 2016 2:46:56 AM","dateStarted":"May 4, 2016 2:47:53 AM","dateFinished":"May 4, 2016 2:48:51 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2613","errorMessage":""},{"text":"hiveContext.sql(\"select factsales.* from factsales join dimstoredf on factsales.storekey=dimstoredf.storekey  where dimstoredf.employeecount > 25 and \tfactsales.promotionkey in (10,15)  limit 100\").show()","dateUpdated":"May 4, 2016 2:49:37 AM","config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1462330073424_1715823199","id":"20160504-024753_1394453116","dateCreated":"May 4, 2016 2:47:53 AM","dateStarted":"May 4, 2016 2:49:37 AM","dateFinished":"May 4, 2016 2:49:38 AM","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:2614","errorMessage":""},{"config":{"colWidth":12,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1462330177093_-1978212287","id":"20160504-024937_83959310","dateCreated":"May 4, 2016 2:49:37 AM","status":"READY","progressUpdateIntervalMs":500,"$$hashKey":"object:2615","errorMessage":""}],"name":"SparkSqlFederatedDemo","id":"2BMPTZHN8","angularObjects":{"2BCKC8XEM":[],"2BCX68DXU":[],"2BFBT15Z1":[],"2BESYJRTZ":[],"2BCBP9D5X":[],"2BDTPNC5U":[],"2BF9DMDST":[],"2BEA4YGRP":[],"2BEP4GTHY":[],"2BD3W8Y9X":[],"2BEJY9WFY":[],"2BCSDJUE3":[],"2BEPFKEXV":[]},"config":{"looknfeel":"default"},"info":{}}